<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>LSR Video Downloader - History</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">

<!-- Monetag In-Page Push + Vignette -->
<script>
(function(s){
  s.dataset.zone='10519506';
  s.src='https://nap5k.com/tag.min.js';
})([document.documentElement, document.body].filter(Boolean).pop()
.appendChild(document.createElement('script')))
</script>
</head>
<body>

<!-- ================= TOP BANNER (468x60) ================= -->
<div class="ad-box center">
<script>
atOptions = {
  'key' : '3f673e5d02626eb857acc774c36f56a6',
  'format' : 'iframe',
  'height' : 60,
  'width' : 468,
  'params' : {}
};
</script>
<script src="https://www.highperformanceformat.com/3f673e5d02626eb857acc774c36f56a6/invoke.js"></script>
</div>

<!-- ================= HEADER ================= -->
<div class="page-header">
  <h2>Download History</h2>
  <p>All your downloaded videos/audio will appear here</p>
</div>

<!-- ================= HISTORY LIST ================= -->
<div class="history-box" id="historyList">
  <p>Loading history...</p>
</div>

<!-- ================= NATIVE AD ================= -->
<div class="ad-native">
<script async="async" data-cfasync="false"
src="https://pl28566745.effectivegatecpm.com/ae3f15925d8f1944704e01860015491c/invoke.js"></script>
<div id="container-ae3f15925d8f1944704e01860015491c"></div>
</div>

<!-- ================= BOTTOM BANNER (320x50) ================= -->
<div class="ad-box center">
<script>
atOptions = {
  'key' : '2a7ac0b46ca2d6ecef70fb7f768ae8cf',
  'format' : 'iframe',
  'height' : 50,
  'width' : 320,
  'params' : {}
};
</script>
<script src="https://www.highperformanceformat.com/2a7ac0b46ca2d6ecef70fb7f768ae8cf/invoke.js"></script>
</div>

<!-- ================= ADS CORE ================= -->
<script src="ads.js"></script>

<!-- ================= HISTORY LOGIC ================= -->
<script>
function loadHistory(){
  const historyBox = document.getElementById("historyList");
  const history = JSON.parse(localStorage.getItem("lsr_history") || "[]");

  if(history.length === 0){
    historyBox.innerHTML = "<p>No downloads yet!</p>";
    return;
  }

  let html = '<ul class="history-list">';
  history.reverse().forEach(item => {
    html += `<li>
      <strong>${item.quality}</strong> - <a href="${item.url}" target="_blank">${item.url}</a>
      <span class="time">${item.time}</span>
    </li>`;
  });
  html += '</ul>';

  historyBox.innerHTML = html;
}

// Load on page ready
window.addEventListener("load", loadHistory);
</script>

</body>
</html>
